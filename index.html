<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Defense Exam Attempt Calculator</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f7f6; display: flex; justify-content: center; padding: 20px; }
        .container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); max-width: 600px; width: 100%; }
        h2 { color: #1a3c5e; text-align: center; margin-bottom: 20px; }
        label { font-weight: bold; display: block; margin-top: 15px; }
        input, select, button { width: 100%; padding: 12px; margin-top: 8px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; }
        button { background-color: #1a3c5e; color: white; border: none; font-size: 16px; cursor: pointer; margin-top: 25px; transition: background 0.3s; }
        button:hover { background-color: #2c5a8a; }
        .results { margin-top: 30px; display: none; }
        .exam-card { border-left: 5px solid #1a3c5e; background: #f9f9f9; padding: 15px; margin-bottom: 10px; border-radius: 4px; }
        .exam-name { font-weight: bold; color: #333; }
        .attempts { float: right; color: #d9534f; font-weight: bold; }
        .eligible { color: #5cb85c !important; }
    </style>
</head>
<body>

<div class="container">
    <h2>Defense Attempt Calculator</h2>
    
    <label for="dob">Enter Date of Birth:</label>
    <input type="date" id="dob" required>

    <label for="category">Category:</label>
    <select id="category">
        <option value="General">General / EWS</option>
        <option value="OBC">OBC</option>
        <option value="SC/ST">SC / ST</option>
    </select>

    <button onclick="calculateAttempts()">Calculate Remaining Attempts</button>

    <div id="results" class="results">
        <h3>Your Estimated Remaining Attempts:</h3>
        <div id="examList"></div>
        <p style="font-size: 12px; color: #666; margin-top: 20px;">*Note: Calculations are based on standard age limits. Always check the official UPSC/IAF notification for specific cycle cut-off dates.</p>
    </div>
</div>

<script>
    function calculateAttempts() {
        const dobValue = document.getElementById('dob').value;
        if (!dobValue) { alert("Please enter your DOB"); return; }

        const dob = new Date(dobValue);
        const today = new Date("2025-12-20"); // Using current system date from prompt
        const resultsDiv = document.getElementById('results');
        const examList = document.getElementById('examList');
        
        examList.innerHTML = "";
        resultsDiv.style.display = "block";

        const age = (today - dob) / (1000 * 60 * 60 * 24 * 365.25);
        const category = document.getElementById('category').value;

        const exams = [
            { name: "NDA (National Defence Academy)", limit: 19.5, freq: 2 },
            { name: "CDS - IMA/INA (Army/Navy)", limit: 24, freq: 2 },
            { name: "CDS - AFA (Air Force)", limit: 24, freq: 2 },
            { name: "CDS - OTA (Men/Women)", limit: 25, freq: 2 },
            { name: "AFCAT (Flying Branch)", limit: 24, freq: 2 },
            { name: "AFCAT (Ground Duty)", limit: 26, freq: 2 },
            { name: "CAPF AC (Assistant Commandant)", limit: 25, freq: 1 }
        ];

        exams.forEach(exam => {
            let limit = exam.limit;
            
            // Apply CAPF Relaxations
            if (exam.name.includes("CAPF")) {
                if (category === "OBC") limit += 3;
                if (category === "SC/ST") limit += 5;
            }

            let remainingYears = limit - age;
            let attempts = Math.floor(remainingYears * exam.freq);
            
            if (attempts < 0) attempts = 0;

            const card = document.createElement('div');
            card.className = 'exam-card';
            const statusClass = attempts > 0 ? 'eligible' : '';
            
            card.innerHTML = `
                <span class="exam-name">${exam.name}</span>
                <span class="attempts ${statusClass}">${attempts} Attempts</span>
            `;
            examList.appendChild(card);
        });
    }
</script>

</body>
</html>
